#!/usr/bin/env bash
# This script groups visitors by IP and HTTP status code and displays the data

# Parse the Apache log file and extract IP and HTTP status code
awk '{print $1, $9}' access.log |
  # Count the occurrences of each IP and HTTP status code combination
  awk '{count[$1" "$2]++} END {for (key in count) print count[key], key}' |
  # Sort the data by the number of occurrences in descending order
  sort -rn |
  # Display the result
  awk '{print "    "$1, $2, $3}'

