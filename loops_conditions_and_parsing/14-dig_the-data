#!/usr/bin/env bash
# This script groups visitors by IP and HTTP status code and displays the data
# Read the log file
log_file="access.log"

# Group visitors by IP and HTTP status code and count the occurrences
grouped_data=$(awk '{ ip[$1][$9]++ } END { for (i in ip) for (j in ip[i]) print ip[i][j], i, j }' "$log_file")

# Sort the grouped data by the number of occurrences in descending order
sorted_data=$(echo "$grouped_data" | awk '{ print $1, $2, $3 }' | sort -rn)

# Display the grouped and sorted data
echo "OCCURENCE_NUMBER IP HTTP_CODE"
echo "$sorted_data"


